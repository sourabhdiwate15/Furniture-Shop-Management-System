{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Gajanan/Desktop/Furniture_Mart-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/data.service\";\nimport * as i2 from \"./../../services/rest-api.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction MyorderComponent_label_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 4);\n    i0.ɵɵtext(1, \"No item odered\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MyorderComponent_label_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 4);\n    i0.ɵɵtext(1, \"My orders\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MyorderComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5)(2, \"div\", 6)(3, \"span\");\n    i0.ɵɵelement(4, \"i\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵelement(6, \"i\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵelement(8, \"i\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\");\n    i0.ɵɵelement(10, \"i\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\");\n    i0.ɵɵelement(12, \"i\", 11);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction MyorderComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 12)(2, \"div\", 13);\n    i0.ɵɵelement(3, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"div\");\n    i0.ɵɵtext(6, \"Order Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"label\", 17);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 15)(11, \"div\");\n    i0.ɵɵtext(12, \"product name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 16)(14, \"label\", 17);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 15)(17, \"div\");\n    i0.ɵɵtext(18, \"price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 16)(20, \"label\", 17);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 18)(23, \"div\");\n    i0.ɵɵtext(24, \"staus\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 16)(26, \"label\", 17);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"div\", 15)(29, \"div\", 19)(30, \"div\", 20);\n    i0.ɵɵlistener(\"click\", function MyorderComponent_ng_container_6_Template_div_click_30_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.cancelOrder(item_r4._id));\n    });\n    i0.ɵɵtext(31, \"cancel order\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r4.productimage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(item_r4._id);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(item_r4.productname);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(item_r4.productprice);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(item_r4.orderstatus);\n  }\n}\n\nexport class MyorderComponent {\n  constructor(data, rest) {\n    this.data = data;\n    this.rest = rest;\n  }\n\n  ngOnInit() {\n    this.getOrders(); // this.getOrderProduct()\n    // this.orderlist =this.data.orderList\n    // console.log(\"ddddddddddd\",this.data.orderList);\n  }\n\n  getOrders() {\n    this.data.getOrders();\n  }\n\n  getOrderProduct() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.getOrders();\n      console.log('111111111');\n\n      for (let i = 0; i <= _this.data.orderList.length; i++) {\n        console.log(_this.data.orderList[i].productid);\n        const result = yield _this.rest.get(`http://localhost:3000/api/user/vieworderproduct/${_this.data.orderList[i].productid[i]}`);\n        console.log(\"result\", result.data);\n        _this.orderProduct = result.data[i];\n      }\n    })();\n  }\n\n  cancelOrder(id) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (confirm(\"Are you sure to cancel this order\")) {\n        try {\n          yield _this2.rest.delete(`http://localhost:3000/api/user/cancelorder/${id}`);\n\n          _this2.getOrders();\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    })();\n  }\n\n}\n\nMyorderComponent.ɵfac = function MyorderComponent_Factory(t) {\n  return new (t || MyorderComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.RestApiService));\n};\n\nMyorderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MyorderComponent,\n  selectors: [[\"app-myorder\"]],\n  decls: 7,\n  vars: 4,\n  consts: [[1, \"containers\"], [\"style\", \"font-size:28px;\", \"class\", \"mt-3 ms-3\", \"for\", \"\", 4, \"ngIf\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"\", 1, \"mt-3\", \"ms-3\", 2, \"font-size\", \"28px\"], [1, \"container\"], [1, \"emptytxt\", \"mt-3\"], [1, \"bi\", \"bi-star-fill\", \"one\", \"me-3\"], [1, \"bi\", \"bi-star-fill\", \"two\", \"me-3\"], [1, \"bi\", \"bi-star-fill\", \"three\", \"me-3\"], [1, \"bi\", \"bi-star-fill\", \"four\", \"me-3\"], [1, \"bi\", \"bi-star-fill\", \"five\", \"me-3\"], [1, \"row\", \"border\", \"mt-3\"], [1, \"col-md-2\"], [\"alt\", \"\", 2, \"width\", \"140px\", \"height\", \"120px\", 3, \"src\"], [1, \"col-md-2\", \"text-center\"], [1, \"mt-2\"], [\"for\", \"\"], [1, \"col-md-1\", \"text-center\"], [1, \"mt-3\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n  template: function MyorderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementContainerStart(1);\n      i0.ɵɵtemplate(2, MyorderComponent_label_2_Template, 2, 0, \"label\", 1);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(3);\n      i0.ɵɵtemplate(4, MyorderComponent_label_4_Template, 2, 0, \"label\", 1);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(5, MyorderComponent_ng_container_5_Template, 13, 0, \"ng-container\", 2);\n      i0.ɵɵtemplate(6, MyorderComponent_ng_container_6_Template, 32, 5, \"ng-container\", 3);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.data.orderList == \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.data.orderList != \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.data.orderList == \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data.orderList);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  styles: [\".tot[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{\\n    position: absolute;\\n    top:200px;\\n    right:80px;\\n    height:140px;\\n    width:300px;\\n}\\n.emptytxt[_ngcontent-%COMP%]{\\n    display:flex;\\n    justify-content: center;\\n    align-items: center;\\n}\\n.one[_ngcontent-%COMP%]{\\n    font-size: 75px;\\n\\n}\\n.two[_ngcontent-%COMP%]{\\n    font-size: 65px;\\n\\n}\\n.three[_ngcontent-%COMP%]{\\n    font-size: 53px;\\n\\n}\\n.four[_ngcontent-%COMP%]{\\n    font-size: 43px;\\n\\n}\\n.five[_ngcontent-%COMP%]{\\n    font-size: 30px;\\n\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15b3JkZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsVUFBVTtJQUNWLFlBQVk7SUFDWixXQUFXO0FBQ2Y7QUFDQTtJQUNJLFlBQVk7SUFDWix1QkFBdUI7SUFDdkIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxlQUFlOztBQUVuQjtBQUNBO0lBQ0ksZUFBZTs7QUFFbkI7QUFDQTtJQUNJLGVBQWU7O0FBRW5CO0FBQ0E7SUFDSSxlQUFlOztBQUVuQjtBQUNBO0lBQ0ksZUFBZTs7QUFFbkIiLCJmaWxlIjoibXlvcmRlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvdCAuY2FyZHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOjIwMHB4O1xuICAgIHJpZ2h0OjgwcHg7XG4gICAgaGVpZ2h0OjE0MHB4O1xuICAgIHdpZHRoOjMwMHB4O1xufVxuLmVtcHR5dHh0e1xuICAgIGRpc3BsYXk6ZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLm9uZXtcbiAgICBmb250LXNpemU6IDc1cHg7XG5cbn1cbi50d297XG4gICAgZm9udC1zaXplOiA2NXB4O1xuXG59XG4udGhyZWV7XG4gICAgZm9udC1zaXplOiA1M3B4O1xuXG59XG4uZm91cntcbiAgICBmb250LXNpemU6IDQzcHg7XG5cbn1cbi5maXZle1xuICAgIGZvbnQtc2l6ZTogMzBweDtcblxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","MyorderComponent","constructor","data","rest","ngOnInit","getOrders","getOrderProduct","console","log","i","orderList","length","productid","result","get","orderProduct","cancelOrder","id","confirm","delete","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Gajanan\\Desktop\\Furniture_Mart-master\\client\\src\\app\\user\\myorder\\myorder.component.html","C:\\Users\\Gajanan\\Desktop\\Furniture_Mart-master\\client\\src\\app\\user\\myorder\\myorder.component.ts"],"sourcesContent":["<div class=\"containers \" >\n     <ng-container>\n        <label *ngIf=\"data.orderList==''\" style=\"font-size:28px;\" class=\"mt-3 ms-3\" for=\"\">No item odered</label>\n     </ng-container>\n     <ng-container>\n        <label *ngIf=\"data.orderList!=''\" style=\"font-size:28px;\" class=\"mt-3 ms-3\" for=\"\">My orders</label>\n     </ng-container>\n\n    <ng-container *ngIf=\"data.orderList ==''\">\n        <div class=\"container\" >\n           \n            <div class=\"emptytxt mt-3\">\n              \n                    <span><i class=\"bi bi-star-fill one me-3\" ></i></span>\n                    <span><i class=\"bi bi-star-fill two me-3\"></i></span>\n                    <span><i class=\"bi bi-star-fill three me-3\"></i></span>\n                    <span><i class=\"bi bi-star-fill four me-3\"></i></span>\n                    <span><i class=\"bi bi-star-fill five me-3\"></i></span>\n              \n                \n            </div>\n           \n        </div>\n\n    </ng-container>\n\n\n \n    <ng-container *ngFor=\"let item of data.orderList\"  >\n       \n        <div class=\"row border mt-3\">\n            <div class=\"col-md-2\">\n                <img  style=\" width:140px; height:120px;\"src={{item.productimage}} alt=\"\">\n            </div>\n    \n            <div class=\"col-md-2 text-center\">\n                <div>Order Id</div>\n                  <div class=\"mt-2\"><label for=\"\">{{item._id}}</label></div>\n            </div>\n\n            <div class=\"col-md-2 text-center\">\n                <div >product name</div>\n                  <div class=\"mt-2\"><label for=\"\">{{item.productname}}</label></div>\n            </div>\n            <div class=\"col-md-2 text-center\">\n                <div >price</div>\n                  <div class=\"mt-2\"><label for=\"\">{{item.productprice}}</label></div>\n            </div>\n            <div class=\"col-md-1 text-center\">\n                <div >staus</div>\n                  <div class=\"mt-2\"><label for=\"\">{{item.orderstatus}}</label></div>\n            </div>\n\n            <div class=\"col-md-2 text-center\">\n               \n                  <div class=\"mt-3\"><div class=\"btn btn-danger btn-sm\" (click)=\"cancelOrder(item._id)\">cancel order</div></div>\n            </div>\n        \n    \n        </div>\n\n    </ng-container>\n  \n</div>\n","import { RestApiService } from './../../services/rest-api.service';\nimport { DataService } from 'src/app/services/data.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-myorder',\n  templateUrl: './myorder.component.html',\n  styleUrls: ['./myorder.component.css']\n})\nexport class MyorderComponent implements OnInit {\n  orderlist: any\n  orderProduct: any\n\n  constructor(public data: DataService, private rest: RestApiService) { }\n\n  ngOnInit(): void {\n    this.getOrders()\n    // this.getOrderProduct()\n    // this.orderlist =this.data.orderList\n    // console.log(\"ddddddddddd\",this.data.orderList);\n  }\n\n  getOrders() {\n    this.data.getOrders()\n  }\n\n  async getOrderProduct() {\n    await this.getOrders()\n    console.log('111111111');\n\n    for (let i = 0; i <= this.data.orderList.length; i++) {\n      console.log(this.data.orderList[i].productid);\n\n      const result: any = await this.rest.get(`http://localhost:3000/api/user/vieworderproduct/${this.data.orderList[i].productid[i]}`)\n      console.log(\"result\", result.data);\n      this.orderProduct = result.data[i]\n\n    }\n\n\n  }\n\n\n\n  async cancelOrder(id: any) {\n    if (confirm(\"Are you sure to cancel this order\")) {\n      try {\n        await this.rest.delete(`http://localhost:3000/api/user/cancelorder/${id}`)\n        this.getOrders()\n  \n      } catch (error) {\n        console.log(error);\n  \n      }\n\n    }\n   \n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}