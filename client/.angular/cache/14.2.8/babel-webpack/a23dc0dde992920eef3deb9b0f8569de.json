{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Gajanan/Desktop/Furniture_Mart-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./rest-api.service\";\nexport class DataService {\n  constructor(rest) {\n    this.rest = rest;\n    this.inLoginUser = new BehaviorSubject(false);\n  }\n\n  getProfile() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const profileData = yield _this.rest.get('http://localhost:3000/api/user/profile');\n      console.log(\"data\", profileData.user);\n\n      _this.inLoginUser.next(true);\n\n      _this.loginUserDetails = profileData.user;\n    })();\n  }\n\n  setCart(item) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      item[\"user\"] = _this2.loginUserDetails._id;\n      const data = yield _this2.rest.post(\"http://localhost:3000/api/user/addcart\", item);\n      console.log(\"set\", data);\n    })();\n  }\n\n  getSingleProduct(item) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const data = yield _this3.rest.get(`http://localhost:3000/api/user/singleproduct/${item}`);\n      _this3.selectProduct = data.data;\n      console.log(\"a\", _this3.selectProduct);\n    })();\n  }\n\n  addOrder(item) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      // for(let i=0;i<item.length;i++){\n      const data = yield _this4.rest.post('http://localhost:3000/api/user/order', item);\n      console.log(\"order post \", data); // }\n    })();\n  }\n\n  getOrders() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const data = yield _this5.rest.get(`http://localhost:3000/api/user/vieworders/${_this5.loginUserDetails._id}`);\n        _this5.orderList = data.orders;\n        console.log(\"order\", _this5.orderList);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n\n}\n\nDataService.ɵfac = function DataService_Factory(t) {\n  return new (t || DataService)(i0.ɵɵinject(i1.RestApiService));\n};\n\nDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: DataService,\n  factory: DataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AACA,SAASA,eAAT,QAAgC,MAAhC;;;AAMA,OAAM,MAAOC,WAAP,CAAkB;EAWtBC,YAAoBC,IAApB,EAAwC;IAApB;IAFpB,mBAAY,IAAIH,eAAJ,CAAoB,KAApB,CAAZ;EAMC;;EACKI,UAAU;IAAA;;IAAA;MACd,MAAMC,WAAW,SAAc,KAAI,CAACF,IAAL,CAAUG,GAAV,CAAc,wCAAd,CAA/B;MACAC,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,WAAW,CAACI,IAAhC;;MACA,KAAI,CAACC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB;;MAEA,KAAI,CAACC,gBAAL,GAAwBP,WAAW,CAACI,IAApC;IALc;EAOf;;EAEKI,OAAO,CAACC,IAAD,EAAU;IAAA;;IAAA;MACrBA,IAAI,CAAC,MAAD,CAAJ,GAAe,MAAI,CAACF,gBAAL,CAAsBG,GAArC;MAGA,MAAMC,IAAI,SAAc,MAAI,CAACb,IAAL,CAAUc,IAAV,CAAe,wCAAf,EAAyDH,IAAzD,CAAxB;MACAP,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBQ,IAAnB;IALqB;EAOtB;;EAGKE,gBAAgB,CAACJ,IAAD,EAAU;IAAA;;IAAA;MAC9B,MAAME,IAAI,SAAc,MAAI,CAACb,IAAL,CAAUG,GAAV,CAAc,gDAAgDQ,IAAI,EAAlE,CAAxB;MAEA,MAAI,CAACK,aAAL,GAAqBH,IAAI,CAACA,IAA1B;MACAT,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgB,MAAI,CAACW,aAArB;IAJ8B;EAM/B;;EAEKC,QAAQ,CAACN,IAAD,EAAS;IAAA;;IAAA;MAGrB;MACE,MAAME,IAAI,SAAY,MAAI,CAACb,IAAL,CAAUc,IAAV,CAAe,sCAAf,EAAsDH,IAAtD,CAAtB;MACAP,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BQ,IAA1B,EALmB,CAQrB;IARqB;EAUtB;;EAGKK,SAAS;IAAA;;IAAA;MACb,IAAG;QACF,MAAML,IAAI,SAAY,MAAI,CAACb,IAAL,CAAUG,GAAV,CAAc,6CAA6C,MAAI,CAACM,gBAAL,CAAsBG,GAAG,EAApF,CAAtB;QAEA,MAAI,CAACO,SAAL,GAAgBN,IAAI,CAACO,MAArB;QACAhB,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoB,MAAI,CAACc,SAAzB;MAIA,CARD,CAQC,OAAME,KAAN,EAAY;QACXjB,OAAO,CAACC,GAAR,CAAYgB,KAAZ;MAED;IAZY;EAcd;;AAtEqB;;;mBAAXvB,aAAWwB;AAAA;;;SAAXxB;EAAWyB,SAAXzB,WAAW;EAAA0B,YAFV","names":["BehaviorSubject","DataService","constructor","rest","getProfile","profileData","get","console","log","user","inLoginUser","next","loginUserDetails","setCart","item","_id","data","post","getSingleProduct","selectProduct","addOrder","getOrders","orderList","orders","error","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Gajanan\\Desktop\\Furniture_Mart-master\\client\\src\\app\\services\\data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { RestApiService } from './rest-api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n  loginUserDetails: any\n  cartItem: any\n  selectedItem: any\n  selectProduct: any\n  countCartItem: any\n  // searchValue=new BehaviorSubject('')\n  \n  orderList:any\n  inLoginUser=new BehaviorSubject(false)\n\n  constructor(private rest: RestApiService) {\n   \n    \n\n  }\n  async getProfile() {\n    const profileData: any = await this.rest.get('http://localhost:3000/api/user/profile')\n    console.log(\"data\", profileData.user);\n    this.inLoginUser.next(true)\n\n    this.loginUserDetails = profileData.user\n\n  }\n\n  async setCart(item: any) {\n    item[\"user\"] = this.loginUserDetails._id\n\n\n    const data: any = await this.rest.post(\"http://localhost:3000/api/user/addcart\", item)\n    console.log(\"set\", data);\n\n  }\n\n\n  async getSingleProduct(item: any) {\n    const data: any = await this.rest.get(`http://localhost:3000/api/user/singleproduct/${item}`)\n\n    this.selectProduct = data.data\n    console.log(\"a\",this.selectProduct);\n\n  }\n\n  async addOrder(item:any){\n\n     \n    // for(let i=0;i<item.length;i++){\n      const data:any =await this.rest.post('http://localhost:3000/api/user/order',item)\n      console.log(\"order post \",data);\n      \n\n    // }\n   \n  }\n\n\n  async getOrders(){\n    try{\n     const data:any= await this.rest.get(`http://localhost:3000/api/user/vieworders/${this.loginUserDetails._id}`)\n\n     this.orderList =data.orders\n     console.log(\"order\",this.orderList);\n     \n     \n\n    }catch(error){\n      console.log(error);\n      \n    }\n\n  }\n\n\n\n\n\n}\n"]},"metadata":{},"sourceType":"module"}