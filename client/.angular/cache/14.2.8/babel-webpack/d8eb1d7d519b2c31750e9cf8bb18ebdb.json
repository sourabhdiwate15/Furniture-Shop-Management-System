{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Gajanan/Desktop/Furniture_Mart-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/rest-api.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction UserListComponent_tr_18_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"th\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"td\");\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function UserListComponent_tr_18_ng_container_1_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const user_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteUser(user_r1._id));\n    });\n    i0.ɵɵtext(12, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 6);\n    i0.ɵɵtext(14, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    const i_r2 = ctx_r7.index;\n    const user_r1 = ctx_r7.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r2 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.created);\n  }\n}\n\nfunction UserListComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, UserListComponent_tr_18_ng_container_1_Template, 15, 4, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r1.email != \"ADMIN\");\n  }\n}\n\nexport class UserListComponent {\n  constructor(rest) {\n    this.rest = rest;\n  }\n\n  ngOnInit() {\n    this.viewUsers();\n  }\n\n  viewUsers() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const users = yield _this.rest.get('http://localhost:3000/api/admin/viewUsers');\n        console.log(\"users\", users);\n        _this.usersList = users.users;\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n\n  deleteUser(id) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (confirm(`are you sure to delete ${id}  of user`)) {\n        yield _this2.rest.delete(`http://localhost:3000/api/admin/deleteuser/${id}`);\n\n        _this2.viewUsers();\n      }\n    })();\n  }\n\n}\n\nUserListComponent.ɵfac = function UserListComponent_Factory(t) {\n  return new (t || UserListComponent)(i0.ɵɵdirectiveInject(i1.RestApiService));\n};\n\nUserListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserListComponent,\n  selectors: [[\"app-user-list\"]],\n  decls: 19,\n  vars: 1,\n  consts: [[1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"scope\", \"row\"], [1, \"ms-2\", \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"], [1, \"ms-2\", \"btn\", \"btn-info\", \"btn-sm\"]],\n  template: function UserListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"user-list works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\", 0)(3, \"thead\")(4, \"tr\")(5, \"th\", 1);\n      i0.ɵɵtext(6, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\", 1);\n      i0.ɵɵtext(8, \"UserName\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\", 1);\n      i0.ɵɵtext(10, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 1);\n      i0.ɵɵtext(12, \"created Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 1);\n      i0.ɵɵtext(14, \"address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 1);\n      i0.ɵɵtext(16, \"actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, UserListComponent_tr_18_Template, 2, 1, \"tr\", 2);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.usersList);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLWxpc3QuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAcQA;IACEA;IAAgBA;IAAOA;IACvBA;IAAIA;IAAaA;IACjBA;IAAIA;IAAcA;IAClBA;IAAIA;IAAgBA;IACpBA;IACAA,4BAAI,EAAJ,EAAI,QAAJ,EAAI,CAAJ;IAC6CA;MAAAA;MAAA;MAAA;MAAA,OAASA,8CAAT;IAA6B,CAA7B;IAA+BA;IAAMA;IAChFA;IAAyCA;IAAIA;IAGjDA;;;;;;;IAVkBA;IAAAA;IACZA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;;;;;;IALRA;IACEA;IAaFA;;;;;IAbiBA;IAAAA;;;;ACNvB,OAAM,MAAOC,iBAAP,CAAwB;EAE5BC,YAAoBC,IAApB,EAAuC;IAAnB;EAAwB;;EAE5CC,QAAQ;IACN,KAAKC,SAAL;EACD;;EAEKA,SAAS;IAAA;;IAAA;MACb,IAAG;QACF,MAAMC,KAAK,SAAW,KAAI,CAACH,IAAL,CAAUI,GAAV,CAAc,2CAAd,CAAtB;QACAC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBH,KAApB;QACA,KAAI,CAACI,SAAL,GAAeJ,KAAK,CAACA,KAArB;MAEA,CALD,CAKC,OAAMK,KAAN,EAAY;QACXH,OAAO,CAACC,GAAR,CAAYE,KAAZ;MAED;IATY;EAWd;;EAGKC,UAAU,CAACC,EAAD,EAAO;IAAA;;IAAA;MACrB,IAAGC,OAAO,CAAC,0BAA0BD,EAAE,WAA7B,CAAV,EAAoD;QAClD,MAAM,MAAI,CAACV,IAAL,CAAUY,MAAV,CAAiB,8CAA8CF,EAAE,EAAjE,CAAN;;QACA,MAAI,CAACR,SAAL;MACD;IAJoB;EAMtB;;AA5B2B;;;mBAAjBJ,mBAAiBD;AAAA;;;QAAjBC;EAAiBe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR9BpB;MAAGA;MAAgBA;MACnBA,iCAAqB,CAArB,EAAqB,OAArB,EAAqB,CAArB,EAAqB,IAArB,EAAqB,CAArB,EAAqB,IAArB,EAAqB,CAArB;MAGwBA;MAACA;MACjBA;MAAgBA;MAAQA;MACxBA;MAAgBA;MAAKA;MACrBA;MAAgBA;MAAeA;MAC/BA;MAAgBA;MAAOA;MACvBA;MAAgBA;MAAOA;MAG3BA;MACEA;MAgBFA;;;;MAhBuBA;MAAAA","names":["i0","UserListComponent","constructor","rest","ngOnInit","viewUsers","users","get","console","log","usersList","error","deleteUser","id","confirm","delete","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Gajanan\\Desktop\\Furniture_Mart-master\\client\\src\\app\\admin\\user-list\\user-list.component.html","C:\\Users\\Gajanan\\Desktop\\Furniture_Mart-master\\client\\src\\app\\admin\\user-list\\user-list.component.ts"],"sourcesContent":["<p>user-list works!</p>\n<table class=\"table\">\n    <thead>\n      <tr>\n        <th scope=\"col\">#</th>\n        <th scope=\"col\">UserName</th>\n        <th scope=\"col\">Email</th>\n        <th scope=\"col\">created Account</th>\n        <th scope=\"col\">address</th>\n        <th scope=\"col\">actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let user of usersList;let i=index;\">\n        <ng-container *ngIf=\"user.email!='ADMIN'\">\n          <th scope=\"row\">{{i+1}}</th>\n          <td>{{user.name}}</td>\n          <td>{{user.email}}</td>\n          <td>{{user.created}}</td>\n          <td></td>\n          <td>\n            <button class=\"ms-2 btn btn-danger btn-sm\" (click)=\"deleteUser(user._id)\">delete</button>\n            <button class=\"ms-2 btn btn-info btn-sm\">edit</button>\n          </td>\n\n        </ng-container>\n      \n      </tr>\n \n    </tbody>\n  </table>","import { Component, OnInit } from '@angular/core';\nimport { RestApiService } from 'src/app/services/rest-api.service';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})\nexport class UserListComponent implements OnInit {\n  usersList:any\n  constructor(private rest:RestApiService) { }\n \n  ngOnInit(): void {\n    this.viewUsers()\n  }\n\n  async viewUsers(){\n    try{\n     const users:any=await this.rest.get('http://localhost:3000/api/admin/viewUsers')\n     console.log(\"users\",users);\n     this.usersList=users.users\n     \n    }catch(error){\n      console.log(error);\n      \n    }\n       \n  }\n\n\n  async deleteUser(id:any){\n    if(confirm(`are you sure to delete ${id}  of user`)){\n      await this.rest.delete(`http://localhost:3000/api/admin/deleteuser/${id}`)\n      this.viewUsers()\n    }\n   \n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}